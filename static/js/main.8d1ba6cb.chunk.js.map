{"version":3,"sources":["components/hoc/withAuthRedirect.js","components/Users/Users.module.css","api/api.js","components/Dialogs/Dialogs.module.css","components/common/FormControls.js","components/Header/Header.module.css","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Navbar/Navbar.js","redux/dialogsReducer.js","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","components/utils/helpers.js","redux/usersReducer.js","components/common/Paginator.js","components/images/photoUrl.webp","components/Users/User.js","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Login/Login.js","redux/appReducer.js","redux/reduxStore.js","components/hoc/withSuspense.js","App.js","index.js","components/Navbar/Navbar.module.css","components/Login/Login.module.css","components/utils/validator.js","components/common/Paginator.module.css","components/images/isFetching.svg","components/common/Preloader.js","components/common/FormControls.module.css","redux/profileReducer.js"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedicrectComponent","this","props","to","React","connect","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","id","post","unfollow","delete","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","FormControl","input","meta","error","touched","children","hasError","className","style","form","TextArea","restProps","Input","createField","placeholder","name","validator","component","type","classNameDiv","text","validate","Header","header","logo","spanHeader","btnLogout","onClick","SET_USER_DATA","initialState","setAuthUserData","getAuthUserData","dispatch","a","resultCode","HeaderContainer","Navbar","nav","item","activeClassName","activeLink","SEND_MESSAGE","dialogs","messages","message","DialogItem","dialog","active","Message","maxLength20","maxLengthCreator","DialogReduxForm","reduxForm","handleSubmit","onSubmit","textWrapper","Field","required","btnDialog","Dialogs","dialogsItems","dialogsPage","map","d","messagesItems","m","values","sendMessage","newMessageBody","compose","newMessage","sendMessageAC","updateObjInArray","items","itemId","objPropName","newObjProps","user","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","totalCount","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowProgress","followUnfoollowFlow","apiMethod","actionCreator","Paginator","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","btnPagi","filter","p","selectedPage","page","User","userWrapper","left","photo","src","photos","small","url","alt","followed","disabled","some","btnUsers","right","spanLeft","spanRight","Users","usersBlock","count","usersPage","getPageSize","getTotalCount","getCurrentPage","getFollowingProgress","getIsFetching","UsersContainer","requestUsersThunk","Preloader","LoginReduxForm","inputLogin","inputPass","inputCheckbox","divCheckbox","formError","btn","console","log","stopSubmit","_error","loginWrapper","formData","SET_INITIALIZED","initialized","reducers","combineReducers","profilePage","profileReducer","action","length","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","_store_","withSuspense","fallback","ProfileContainer","lazy","App","initializeApp","path","DialogsContainer","AppContainer","promise","Promise","all","SamuraiJSApp","ReactDOM","render","StrictMode","document","getElementById","value","undefined","maxLength","loader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likes","profile","newPost","newPostText","postId","addPostAC","setStatus","getProfileInfo"],"mappings":"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","file":"static/js/main.8d1ba6cb.chunk.js","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n// const withAuthRedirect = (Component) => {\r\n//     const RedicrectComponent = (props) => {\r\n//         if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n//         return <Component {...props} />\r\n//     }\r\n//     return RedicrectComponent\r\n// }\r\n// export default withAuthRedirect\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedicrectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    const ConnectedAuthRedirect = connect(mapStateToPropsRedirect)(RedicrectComponent)\r\n    return ConnectedAuthRedirect\r\n}\r\nexport default withAuthRedirect\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersBlock\":\"Users_usersBlock__5PWPo\",\"totalCount\":\"Users_totalCount__2c-XE\",\"count\":\"Users_count__2KqSp\",\"userWrapper\":\"Users_userWrapper__fkrgu\",\"photo\":\"Users_photo__tUSku\",\"btnUsers\":\"Users_btnUsers__1Hg9U\",\"btn\":\"Users_btn__1mP3i\",\"right\":\"Users_right__wqgHA\",\"spanLeft\":\"Users_spanLeft__q8l1x\",\"spanRight\":\"Users_spanRight__1KZ4g\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"cbbe8417-8782-43a7-8314-2afccb45bcb2\"\r\n\t}\r\n})\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 5) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollow(id) {\r\n\t\treturn instance.post(`follow/${id}`)\r\n\t},\r\n\tunfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status })\r\n\t},\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe })\r\n\t},\r\n\tlogout(email, password, rememberMe = false) {\r\n\t\treturn instance.delete(`auth/login`, { email, password, rememberMe })\r\n\t},\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3rFNc\",\"dialogsItems\":\"Dialogs_dialogsItems__2unWh\",\"dialog\":\"Dialogs_dialog__2d7uE\",\"active\":\"Dialogs_active__1I5im\",\"messages\":\"Dialogs_messages__1DBwg\",\"message\":\"Dialogs_message__Boepk\",\"textWrapper\":\"Dialogs_textWrapper__KZvMm\",\"btnDialog\":\"Dialogs_btnDialog__2btl0\"};","import { Field } from \"redux-form\"\r\nimport style from \"./FormControls.module.css\"\r\n\r\nconst FormControl = ({ input, meta: { error, touched }, children }) => {\r\n    const hasError = error && touched\r\n    return (\r\n        <div className={`${style.form} ${hasError ? style.error : \"\"}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span> {error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validator, component, type, className, classNameDiv, text) => (\r\n    <div className={classNameDiv}>\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            validate={validator}\r\n            component={component}\r\n            type={type}\r\n            className={className}\r\n        />\r\n        {text}\r\n    </div>\r\n\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Xh19l\",\"logo\":\"Header_logo__pNF_L\",\"spanHeader\":\"Header_spanHeader__Mwcht\",\"login\":\"Header_login__1pdbO\",\"btnLogout\":\"Header_btnLogout__xRyYa\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport style from \"./Header.module.css\"\r\n\r\n\r\nconst Header = ({ login, isAuth, logout }) => {\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={style.logo}>\r\n\t\t\t\t<span className={style.spanHeader}>L</span> .\r\n\t\t\t\t<span className={style.spanHeader}>O</span> .\r\n\t\t\t\t<span className={style.spanHeader}>G</span> .\r\n\t\t\t\t<span className={style.spanHeader}>O</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={style.login}>\r\n\t\t\t\t{isAuth\r\n\t\t\t\t\t? <span>{login}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={style.btnLogout}\r\n\t\t\t\t\t\t\tonClick={logout}\r\n\t\t\t\t\t\t>Logout</button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t: <NavLink to={\"/login\"}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t}\r\n\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = \"samurai2021/profile/SET_USER_DATA\"\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (email, userId, login, isAuth) => ({ type: SET_USER_DATA, data: { email, userId, login, isAuth } })\r\n\r\nexport const getAuthUserData = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.me()\r\n        if (response.data.resultCode === 0) {\r\n            let { email, id, login } = response.data.data\r\n            dispatch(setAuthUserData(email, id, login, true))\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            console.log(\"response.data- \", response.data)\r\n\r\n            let message = response.data.messages ? response.data.messages[0] : \"some error\"\r\n            dispatch(stopSubmit(\"login\", { _error: message }))\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/authReducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Header {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)\r\n\r\n","import React from 'react'\r\nimport { NavLink } from \"react-router-dom\"\r\nimport style from \"./Navbar.module.css\"\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to=\"/profile\" activeClassName={style.activeLink}>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={style.activeLink}>\r\n                    Dialogs\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.item}>\r\n                <NavLink to=\"/users\" activeClassName={style.activeLink}>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","const SEND_MESSAGE = \"SEND_MESSAGE\"\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: \"Miron\" },\r\n\t\t{ id: 2, name: \"Vanja\" },\r\n\t\t{ id: 3, name: \"Nastja\" },\r\n\t\t{ id: 4, name: \"Roma\" },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: \"Hello, how are you?\" },\r\n\t\t{ id: 2, message: \"Yo, dude!\" },\r\n\t\t{ id: 3, message: \"Go learn react\" },\r\n\t],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE: {\r\n\t\t\tlet newMessage = {\r\n\t\t\t\tid: state.messages.length + 1,\r\n\t\t\t\tmessage: action.newMessage,\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, newMessage],\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nexport const sendMessageAC = (newMessage) => ({ type: SEND_MESSAGE, newMessage })\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport style from \"../Dialogs.module.css\"\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={`${style.dialog} ${style.active}`}>\r\n            <NavLink to={`/dialogs/${props.id}`}>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem\r\n","import React from 'react'\r\nimport style from \"../Dialogs.module.css\"\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={style.message}> {props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { TextArea } from '../common/FormControls'\r\n\r\nimport style from \"./Dialogs.module.css\"\r\nimport { maxLengthCreator, required } from '../utils/validator'\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\nconst DialogForm = (props) => {\r\n\tconst { handleSubmit } = props\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className={style.textWrapper}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tcomponent={TextArea}\r\n\t\t\t\t\tvalidate={[required, maxLength20]}\r\n\t\t\t\t\tname=\"newMessageBody\"\r\n\t\t\t\t\tplaceholder=\"enter message\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button className={style.btnDialog}> add </button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\nconst DialogReduxForm = reduxForm({ form: 'dialog' })(DialogForm)\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogsItems = props.dialogsPage.dialogs.map(d => {\r\n\t\treturn <DialogItem key={d.id} name={d.name} id={d.id} />\r\n\t})\r\n\tlet messagesItems = props.dialogsPage.messages.map(m => {\r\n\t\treturn <Message key={m.id} message={m.message} />\r\n\t})\r\n\r\n\tconst addNewMessage = (values) => {\r\n\t\tprops.sendMessage(values.newMessageBody)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style.dialogs}>\r\n\t\t\t<div className={style.dialogsItems}>\r\n\t\t\t\t{dialogsItems}\r\n\t\t\t</div>\r\n\t\t\t<div className={style.messages}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{messagesItems}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<DialogReduxForm\r\n\t\t\t\tonSubmit={addNewMessage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dialogs\r\n","import { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { sendMessageAC } from '../../redux/dialogsReducer'\r\nimport withAuthRedirect from '../hoc/withAuthRedirect'\r\nimport Dialogs from './Dialogs'\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage,\r\n\t}\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (newMessage) => {\r\n\t\t\tdispatch(sendMessageAC(newMessage))\r\n\t\t},\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Dialogs)\r\n","\r\nexport const updateObjInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemId) {\r\n            return { ...user, ...newObjProps }\r\n        }\r\n        return user\r\n    })\r\n}\r\n\r\n","import { usersAPI } from \"../api/api\"\r\nimport { updateObjInArray } from \"../components/utils/helpers\"\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_TOTAL_USERS = \"SET_TOTAL_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_FOLLOWING_PROGRESS = \"TOGGLE_FOLLOWING_PROGRESS\"\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\ttotalCount: 0,\r\n\tpageSize: 5,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: [],\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjInArray(state.users, action.userID, \"id\", { followed: true })\r\n\t\t\t\t// users: state.users.map(user => {\r\n\t\t\t\t// \tif (user.id === action.userID) {\r\n\t\t\t\t// \t\treturn { ...user, followed: true }\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \treturn user\r\n\t\t\t\t// })\r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjInArray(state.users, action.userID, \"id\", { followed: false })\r\n\t\t\t\t// users: state.users.map(user => {\r\n\t\t\t\t// \tif (user.id === action.userID) {\r\n\t\t\t\t// \t\treturn { ...user, followed: false }\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \treturn user\r\n\t\t\t\t// })\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\r\n\t\tcase SET_TOTAL_USERS:\r\n\t\t\treturn { ...state, totalCount: action.totalCount }\r\n\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.pageNumber }\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\r\n\t\tcase TOGGLE_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.followingInProgress\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID })\r\nexport const unfollowSuccess = (userID) => ({ type: UNFOLLOW, userID })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setTotalUsers = (totalCount) => ({ type: SET_TOTAL_USERS, totalCount })\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, pageNumber })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowProgress = (followingInProgress, userId) => ({ type: TOGGLE_FOLLOWING_PROGRESS, followingInProgress, userId })\r\n\r\n\r\nexport const requestUsersThunk = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true))\r\n\t\tdispatch(setCurrentPage(page))\r\n\r\n\t\tlet response = await usersAPI.getUsers(page, pageSize)\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(response.items))\r\n\t\tdispatch(setTotalUsers(response.totalCount))\r\n\t}\r\n}\r\n\r\nconst followUnfoollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n\t// debugger\r\n\tdispatch(toggleFollowProgress(true, id))\r\n\tlet response = await apiMethod(id)\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(id))\r\n\t}\r\n\tdispatch(toggleFollowProgress(false, id))\r\n}\r\n\r\nexport const follow = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfoollowFlow(dispatch, id, usersAPI.follow, followSuccess)\r\n\t}\r\n}\r\nexport const unfollow = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfoollowFlow(dispatch, id, usersAPI.unfollow, unfollowSuccess)\r\n\t}\r\n}\r\n\r\n","import React, { useState } from 'react'\r\n\r\nimport style from './Paginator.module.css'\r\n\r\n\r\nconst Paginator = ({ totalCount, pageSize, onPageChange, currentPage, portionSize = 10 }) => {\r\n\r\n\tlet pagesCount = Math.ceil(totalCount / pageSize)\r\n\tlet pages = []\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tconst portionCount = Math.ceil(pagesCount / portionSize)\r\n\tconst [portionNumber, setPortionNumber] = useState(1)\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n\tconst rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n\treturn <div className={style.pagination}>\r\n\t\t{portionNumber > 1 &&\r\n\t\t\t<button\r\n\t\t\t\tclassName={style.btnPagi}\r\n\t\t\t\tonClick={() => { setPortionNumber(portionNumber - 1) }}\r\n\t\t\t>\r\n\t\t\t\t&lt; PREV </button>\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tpages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n\t\t\t\treturn <span\r\n\t\t\t\t\tkey={p}\r\n\t\t\t\t\tclassName={currentPage === p ? style.selectedPage : style.page}\r\n\t\t\t\t\tonClick={() => { onPageChange(p) }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{p}\r\n\t\t\t\t</span>\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\t\t{portionCount > portionNumber &&\r\n\t\t\t<button\r\n\t\t\t\tclassName={style.btnPagi}\r\n\t\t\t\tonClick={() => { setPortionNumber(portionNumber + 1) }}\r\n\t\t\t>\r\n\t\t\t\tNEXT &gt; </button>\r\n\t\t}\r\n\t</div>\r\n}\r\n\r\nexport default Paginator\r\n","export default __webpack_public_path__ + \"static/media/photoUrl.aeb7d15a.webp\";","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport url from '../images/photoUrl.webp'\r\nimport style from './Users.module.css'\r\n\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n\r\n\treturn (\r\n\t\t<div className={style.userWrapper}>\r\n\t\t\t<span className={style.left}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={`/profile/${user.id}`}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={style.photo}\r\n\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t(user.photos.small === null)\r\n\t\t\t\t\t\t\t\t\t? url\r\n\t\t\t\t\t\t\t\t\t: user.photos.small\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talt=\"userPhoto\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{user.followed\r\n\t\t\t\t\t\t? <button\r\n\t\t\t\t\t\t\tdisabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\tclassName={style.btnUsers}\r\n\t\t\t\t\t\t\tonClick={() => unfollow(user.id)}>\r\n\t\t\t\t\t\t\tUnfollow</button>\r\n\r\n\t\t\t\t\t\t: <button\r\n\t\t\t\t\t\t\tdisabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\tclassName={style.btnUsers}\r\n\t\t\t\t\t\t\tonClick={() => follow(user.id)}>\r\n\t\t\t\t\t\t\tFollow</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span className={style.right}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={style.spanLeft}>Name:</span> <span className={style.spanRight}>{user.name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={style.spanLeft}>Status:</span> <span className={style.spanRight}>{`${user.status}`}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={style.spanLeft}>UserId:</span> <span className={style.spanRight}>{user.id}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default User\r\n","import React from 'react'\r\nimport Paginator from '../common/Paginator'\r\n\r\nimport style from './Users.module.css'\r\nimport User from './User'\r\n\r\n\r\nconst Users = ({ totalCount, pageSize, users, onPageChange, currentPage, followingInProgress, unfollow, follow }) => {\r\n\r\n\treturn (\r\n\t\t<div className={style.usersBlock}>\r\n\r\n\t\t\t<span className={style.totalCount}>Total users: <span className={style.count}>{totalCount}</span></span>\r\n\r\n\t\t\t<Paginator totalCount={totalCount} pageSize={pageSize} onPageChange={onPageChange} currentPage={currentPage} />\r\n\r\n\t\t\t{users.map(user => {\r\n\t\t\t\treturn <User\r\n\t\t\t\t\tkey={user.id}\r\n\t\t\t\t\tuser={user}\r\n\t\t\t\t\tfollowingInProgress={followingInProgress}\r\n\t\t\t\t\tunfollow={unfollow}\r\n\t\t\t\t\tfollow={follow}\r\n\t\t\t\t/>\r\n\t\t\t})}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Users\r\n","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\n// export const getUserReSelector = createSelector(getUsers, twoDEp,\r\n// \t(users, twoArg) => {\r\n// \t\tdebugger\r\n// \t\treturn users\r\n// })\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\nexport const getTotalCount = (state) => {\r\n\treturn state.usersPage.totalCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\nexport const getFollowingProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress\r\n}\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setCurrentPage, toggleFollowProgress, requestUsersThunk, unfollow, follow } from '../../redux/usersReducer'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader'\r\nimport { getCurrentPage, getFollowingProgress, getIsFetching, getPageSize, getTotalCount, getUsers } from '../../redux/usersSelectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { currentPage, pageSize } = this.props\r\n\t\tthis.props.requestUsersThunk(currentPage, pageSize)\r\n\t\t//код ниже ушел в thunk(creator) в редюсере\r\n\t\t// this.props.toggleIsFetching(true)\r\n\t\t// usersAPI.getUsers(currentPage, pageSize).then(response => {\r\n\t\t//     this.props.toggleIsFetching(false)\r\n\t\t//     this.props.setUsers(response.items)\r\n\t\t//     this.props.setTotalUsers(response.totalCount)\r\n\t\t// })\r\n\t}\r\n\r\n\tonPageChange = (pageNumber) => {\r\n\t\t// this.props.setCurrentPage(pageNumber)\r\n\t\tthis.props.requestUsersThunk(pageNumber, this.props.pageSize)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t\t<Users\r\n\t\t\t\t\ttotalCount={this.props.totalCount}\r\n\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\tusers={this.props.users}\r\n\t\t\t\t\tonPageChange={this.onPageChange}\r\n\t\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// const mapStatetoProps = (state) => {\r\n// \treturn {\r\n// \t\tusers: state.usersPage.users,\r\n// \t\ttotalCount: state.usersPage.totalCount,\r\n// \t\tpageSize: state.usersPage.pageSize,\r\n// \t\tcurrentPage: state.usersPage.currentPage,\r\n// \t\tisFetching: state.usersPage.isFetching,\r\n// \t\tfollowingInProgress: state.usersPage.followingInProgress,\r\n// \t}\r\n// }\r\n\r\nconst mapStatetoProps = (state) => {\r\n\treturn {\r\n\t\t// users: getUsers(state),\r\n\t\tusers: getUsers(state),\r\n\t\ttotalCount: getTotalCount(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingProgress(state),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStatetoProps, {\r\n\tunfollow, follow, setCurrentPage,\r\n\ttoggleFollowProgress, requestUsersThunk,\r\n})(UsersContainer)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { login } from '../../redux/authReducer'\r\nimport { createField, Input } from '../common/FormControls'\r\nimport { required } from '../utils/validator'\r\n\r\nimport style from \"./Login.module.css\"\r\n\r\n\r\nlet LoginForm = ({ handleSubmit, error }) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"email\", \"email\", [required], Input, \"text\", style.inputLogin, null, null)}\r\n\r\n            {createField(\"password\", \"password\", [required], Input, \"password\", style.inputPass, null, null)}\r\n\r\n\r\n            {createField(null, \"rememberMe\", [], Input, \"checkbox\", style.inputCheckbox, style.divCheckbox, \"remember me\")}\r\n\r\n            {error\r\n                ? <div className={style.formError}>\r\n                    {error}\r\n                </div>\r\n                : null\r\n            }\r\n\r\n            <div >\r\n                <button className={style.btn}> Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        // console.log(formData)\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return (\r\n        <div className={style.loginWrapper}>\r\n            <h3>Login </h3>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({ isAuth: state.auth.isAuth })\r\n\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import { getAuthUserData } from \"./authReducer\"\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\"\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED })\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthUserData())\r\n        // promise.then(() => {\r\n        //     dispatch(initializedSuccess())\r\n        // })\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n    }\r\n}\r\n\r\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { profileReducer } from './profileReducer'\r\nimport { dialogsReducer } from './dialogsReducer'\r\nimport { usersReducer } from \"./usersReducer\"\r\nimport { authReducer } from \"./authReducer\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { appReducer } from './appReducer';\r\n\r\nconst reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// - const store = createStore(reducer, /* preloadedState, */ compose(\r\n// \tapplyMiddleware(...middleware)\r\n// ));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nwindow._store_ = store\r\n\r\nexport default store","import React, { Suspense } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Загрузка...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}\r\nexport default withSuspense\r\n","import React, { Suspense } from \"react\"\nimport HeaderContainer from \"./components/Header/HeaderContainer\"\nimport Navbar from \"./components/Navbar/Navbar\"\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\"\n// import ProfileContainer from \"./components/Profile/ProfileContainer\"\nimport UsersContainer from \"./components/Users/UsersContainer\"\nimport { Route, Switch } from \"react-router-dom\"\nimport Login from \"./components/Login/Login\"\nimport { connect } from \"react-redux\"\nimport { initializeApp } from \"./redux/appReducer\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\nimport { Provider } from 'react-redux'\nimport Preloader from \"./components/common/Preloader\"\nimport { compose } from \"redux\"\nimport store from './redux/reduxStore'\n\nimport './App.css'\nimport withSuspense from \"./components/hoc/withSuspense\"\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"content\">\n\n\t\t\t\t\t{/* <Route path=\"/profile/:userId?\" >\n\t\t\t\t\t\t<ProfileContainer />\n\t\t\t\t\t</Route> */}\n\t\t\t\t\t<Route path=\"/profile/:userId?\" >\n\t\t\t\t\t\t{withSuspense(ProfileContainer)}\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/dialogs\" >\n\t\t\t\t\t\t<DialogsContainer />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/users\" >\n\t\t\t\t\t\t<UsersContainer />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/login\" >\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({ initialized: state.app.initialized })\n\nconst AppContainer = compose(\n\tconnect(mapStateToProps, { initializeApp }))(App)\n\nconst SamuraiJSApp = (props) => {\n\treturn <Router >\n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</Router>\n}\nexport default SamuraiJSApp\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from \"react-router-dom\"\nimport SamuraiJSApp from './App'\nimport App from './App'\nimport store from './redux/reduxStore'\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router >\n\n            <Provider store={store}>\n                <SamuraiJSApp />\n            </Provider>\n\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Ywh0\",\"item\":\"Navbar_item__2pal-\",\"activeLink\":\"Navbar_activeLink__1mP-T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"Login_loginWrapper__N1xX7\",\"inputLogin\":\"Login_inputLogin__2FJNt\",\"inputPass\":\"Login_inputPass__1IYjm\",\"divCheckbox\":\"Login_divCheckbox__1G-bA\",\"inputCheckbox\":\"Login_inputCheckbox__316Ht\",\"btn\":\"Login_btn__16FgG\",\"formError\":\"Login_formError__3ykd-\"};","export const required = (value) => {\r\n    return value ? undefined : \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\r\n    return (value.length > maxLength) ? `Max.length is ${maxLength} symbols` : undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__215PB\",\"selectedPage\":\"Paginator_selectedPage__2eAYu\",\"btnPagi\":\"Paginator_btnPagi__17DK4\",\"page\":\"Paginator_page__3GvlQ\"};","export default __webpack_public_path__ + \"static/media/isFetching.6c8f974d.svg\";","import React from 'react'\r\nimport loader from '../images/isFetching.svg'\r\n\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={loader} alt=\"loading\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"FormControls_form__Wwj-V\",\"error\":\"FormControls_error__2vb-w\"};","import { profileAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = \"samurai2021/profile/ADD_POST\"\r\nconst SET_USER_PROFILE = \"samurai2021/profile/SET_USER_PROFILE\"\r\nconst SET_STATUS = \"samurai2021/profile/SET_STATUS\"\r\nconst DELETE_POST = \"samurai2021/profile/DELETE_POST\"\r\n\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, post: \"Hello, friend\", likes: 5 },\r\n\t\t{ id: 2, post: \"Hi, dude!\", likes: 7 },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: \"\",\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: state.posts.length + 1,\r\n\t\t\t\tpost: action.newPostText,\r\n\t\t\t\tlikes: 0\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\t}\r\n\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\t}\r\n\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn { ...state, posts: state.posts.filter(p => p.id !== action.postId) }\r\n\t\t}\r\n\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nexport const addPostAC = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => {\r\n\treturn { type: SET_USER_PROFILE, profile }\r\n}\r\nexport const setStatus = (status) => {\r\n\treturn { type: SET_STATUS, status }\r\n}\r\nexport const deletePost = (postId) => {\r\n\treturn { type: DELETE_POST, postId }\r\n}\r\n\r\n\r\nexport const getProfileInfo = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.getProfile(id)\r\n\t\tdispatch(setUserProfile(response.data))\r\n\t}\r\n}\r\n\r\nexport const getStatus = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.getStatus(id)\r\n\t\tdispatch(setStatus(response.data))\r\n\t}\r\n}\r\nexport const updateStatus = (status) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setStatus(status))\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n"],"sourceRoot":""}